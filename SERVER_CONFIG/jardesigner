server {
	listen 80;
	server_name localhost;

	# Root directory for the launcher page
	root /var/www/html/jardesigner_launcher;
	index index.html index.htm;

	# Location for your React Application
	# This assumes your React build files are in /var/www/html/jardesigner
	location /jardesigner/ {
		alias /var/www/html/jardesigner/;
		try_files $uri $uri/ /jardesigner/index.html;
	}

	# Location for the API backend
	# This proxies all requests starting with /api/ to your Flask server
	location /api/ {
		proxy_pass http://127.0.0.1:5000/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Forwarded-Proto $scheme;
	}

	# Optional: You can redirect the root to your launcher page if needed
	# The 'root' and 'index' directives above already handle this.
	# location = / {
	#	 try_files /jardesigner_launcher/index.html =404;
	# }
}
